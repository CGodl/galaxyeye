<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="image" property="og:image" content='dist/images/galaxyeye-profile-photo.png'>
  <!-- <link rel="stylesheet" href="src/styles/index.css" type="text/css"> -->
  <!-- <link rel="stylesheet" href="src/styles/index.scss" type="text/scss"> -->
  <link rel="stylesheet" href="dist/main.css" type="text/css">
  <link rel='shortcut icon' type='image/x-icon' href='dist/images/favicon.ico' />
  <script src="https://d3js.org/d3.v4.js"></script>
  <!-- <script src="https://d3js.org/d3.v6.min.js"></script> -->

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="./dist/main.js"></script>
  <script src="./dist/main.css"></script>
  <!-- <script src="./src/styles/index.scss"></script> -->

<title>GalaxyEye</title>  
</head>
<header>
  <div class='sticky-header'>
    <ul>
      <li>Home</li>
      <li>
        <ul class= 'org-data-type'>Organize Data:
            <li>By Country</li>
            <li>By Rocket Family</li>
        </ul>
      </li>
      <li>Past Launches</li>
    </ul>
  </div>
</header>

<body>
  <section class='star-wrap'>
    <div id='stars-1'></div>
    <div id='stars-2'></div>
    <div id='stars-3'></div>
    <div id='stars-4'></div>
  </section>

  <div id='my_dataviz'></div>


  <script>

let margin = {top: 10, right: 30, bottom: 90, left: 40},
    width = 460 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;



let svg = d3.select('#my_dataviz')
  // .append('svg')
  //   .attr("width", 500)
  //   .attr("height", 500)
  // .append("g")
  //   .attr("transform",
  //         "translate(" + 15 + "," + 20 + ")");
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
        "translate(" + margin.left + "," + margin.top + ")");


  d3.json("https://launchlibrary.net/1.4/launch/next/10", function(data) {
    
    let x = d3.scaleBand()
      .range([0, width])
      .domain(data.launches.map(function(d) { return d.location.countryCode; }))
      .padding(1)
    svg.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x))
      .selectAll("text")
        .attr("transform", "translate(-10,0)rotate(-45)")
        .style("text-anchor", "end");

    let y = d3.scaleLinear()
      .domain([0, 13000])
      .range([ height, 0]);
    svg.append("g")
      .call(d3.axisLeft(y));

    svg.selectAll("myline")
      .data(data)
      .enter()
      .append("line")
        .attr("x1", function(d) { return x(d.location.countryCode); })
        .attr("x2", function(d) { return x(d.location.countryCode); })
        // .attr("y1", function(d) { return y(1); })
        .attr("y2", y(0))
        .attr("stroke", "grey")

        svg.selectAll("mycircle")
        .data(data)
        .enter()
        .append("circle")
          .attr("cx", function(d) { return x(d.Country); })
          .attr("cy", function(d) { return y(d.Value); })
          .attr("r", "4")
          .style("fill", "#69b3a2")
          .attr("stroke", "black")
      })





  </script>
  
</body>

<footer>
  <div class='links-container'>
    <a href='https://github.com/CGodl'>Github</a>
    <a href='https://www.linkedin.com/in/carl-godlewski-b64b0512/'>Linkedin</a>
    <a href=''>Personal Site</a>
  </div>
</footer>
</html>